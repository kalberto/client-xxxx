(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["area-cliente-auth"],{"023f":function(e,t,n){},a95b:function(e,t,n){"use strict";var o=n("c63f"),i=n.n(o);t["default"]=i.a},b0c0:function(e,t,n){var o=n("83ab"),i=n("9bf2").f,a=Function.prototype,r=a.toString,s=/^\s*function ([^ (]*)/,u="name";o&&!(u in a)&&i(a,u,{configurable:!0,get:function(){try{return r.call(this).match(s)[1]}catch(e){return""}}})},c2a1:function(e,t,n){e.exports=n.p+"img/bg_areacliente.cca3d5d2.png"},c63f:function(e,t){e.exports=function(e){e.options.__i18n=e.options.__i18n||[],e.options.__i18n.push('{"pt-br":{"labels":{"bem-vindo":"Bem-vindo, faça o login.","email":"E-mail","senha":"Senha","esqueceu":"Esqueceu sua senha?"},"botoes":{"esqueceu":"Clique aqui","enviar":"Entrar","enviando":"Autenticando...","enviado":"Autenticado!","erro":"Erro ao autenticar"}},"en-gb":{"labels":{"bem-vindo":"Welcome, please login.","email":"E-mail","senha":"Password","esqueceu":"Forgot your password?"},"botoes":{"esqueceu":"click here","enviar":"Log in","enviando":"Authenticating...","enviado":"Authenticated!","erro":"Error authenticating"}}}'),delete e.options._Ctor}},d29e:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{attrs:{id:"areaClienteAuth"}},[n("div",{staticClass:"forms"},[e.isLoginActive?n("form",{ref:"form",staticClass:"form form-login",on:{submit:function(t){return t.preventDefault(),e.sendLogin(t)}}},[e._m(0),n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formulario.login,expression:"formulario.login"}],attrs:{name:"input_login",id:"input_login",type:"text"},domProps:{value:e.formulario.login},on:{input:function(t){t.target.composing||e.$set(e.formulario,"login",t.target.value)}}}),n("label",{class:{ativo:e.formulario.login},attrs:{for:"input_login"}},[e._v("Usuário")]),e.errors.login?n("span",{staticClass:"erro",attrs:{title:e.errors.login[0]}},[e._v(e._s(e.errors.login[0]))]):e._e()]),n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formulario.password,expression:"formulario.password"}],attrs:{name:"input_password",id:"input_password",type:"password"},domProps:{value:e.formulario.password},on:{input:function(t){t.target.composing||e.$set(e.formulario,"password",t.target.value)}}}),n("label",{class:{ativo:e.formulario.password},attrs:{for:"input_password"}},[e._v("Senha")]),e.errors.password?n("span",{staticClass:"erro",attrs:{title:e.errors.password[0]}},[e._v(e._s(e.errors.password[0]))]):e._e()]),n("div",{staticClass:"texto"},[n("p",[e._v(" Esqueceu sua senha? "),n("router-link",{attrs:{to:{name:"area-cliente-redefinicao"}}},[e._v("Clique aqui")])],1)]),n("div",{staticClass:"button"},[n("button",{attrs:{type:"submit",disabled:e.disabled},domProps:{innerHTML:e._s(e.btnText)}})])]):n("form",{ref:"form",staticClass:"form form-redefinicao",on:{submit:function(t){return t.preventDefault(),e.sendReset(t)}}},[e._m(1),n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.formulario.login,expression:"formulario.login"}],attrs:{name:"input_login",id:"input_login",type:"text"},domProps:{value:e.formulario.login},on:{input:function(t){t.target.composing||e.$set(e.formulario,"login",t.target.value)}}}),n("label",{class:{ativo:e.formulario.login},attrs:{for:"input_login"}},[e._v("Usuário")]),e.errors.login?n("span",{staticClass:"erro",attrs:{title:e.errors.login[0]}},[e._v(e._s(e.errors.login[0]))]):e._e()]),n("div",{staticClass:"texto"},[n("p",[e._v(" Possui uma senha? "),n("router-link",{attrs:{to:{name:"area-cliente-login"}}},[e._v("Clique aqui")])],1)]),n("div",{staticClass:"button"},[n("button",{attrs:{type:"submit",disabled:e.disabled},domProps:{innerHTML:e._s(e.btnText)}})])])]),e._m(2)])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"texto"},[n("h2",[e._v("Bem-vindo, faça o login")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"texto"},[n("h2",[e._v("Recuperação de Senha")]),n("p",[e._v("Preencha o campo abaixo para que possamos enviar o link para a recuperação da sua senha")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bg"},[o("picture",[o("img",{attrs:{src:n("c2a1")}})])])}],a=(n("b0c0"),n("d3b7"),n("bc3a")),r=n.n(a),s={login:"",password:""},u={login:""},l={name:"view-area-cliente-login",data:function(){var e="area-cliente-login"==this.$route.name?Object.assign({},s):Object.assign({},u);return{isLoginActive:"area-cliente-login"==this.$route.name,disabled:!1,btnText:"Enviar",formulario:e,errors:{}}},created:function(){this.$eventbus.$emit("toggleColor")},mounted:function(){var e=this;setTimeout((function(){e.$refs.form.focus()}),1)},beforeRouteEnter:function(e,t,n){r.a.get("".concat("//www.xxxx.com","/api/clientes/auth")).then((function(o){return 0!=o.data?(n(!1),window.location.pathname="/cliente"):n((function(n){"area-cliente-login"!=t.name&&"area-cliente-redefinicao"!=t.name||(n.formulario="area-cliente-login"==e.name?Object.assign({},s):Object.assign({},u),n.isLoginActive="area-cliente-login"==e.name,n.disabled=!1,n.btnText="Enviar",n.errors={})}))}))},methods:{send:function(e){var t=this;return this.disabled=!0,this.btnText="Enviando...",this.errors={},this.$axios.post(e,this.formulario).then((function(e){return t.formulario="area-cliente-login"==t.$route.name?Object.assign({},s):Object.assign({},u),t.disabled=!1,t.btnText="Enviado!",Promise.resolve(e)})).catch((function(e){return e.response&&422==e.response.status&&(t.errors=e.response.data.errors?e.response.data.errors:{}),t.btnText="Ocorreu um erro!",setTimeout((function(){t.btnText="Enviar",t.disabled=!1}),3500),Promise.reject(e)}))},sendLogin:function(){var e=this;this.send("/clientes/auth/login").then((function(){window.location.pathname="/cliente"})).catch((function(t){!t.response||e.errors.login||422!=t.response.status&&401!=t.response.status||(e.errors={login:[t.response.data.msg]})}))},sendReset:function(){var e=this;this.send("/clientes/auth/password/email").then((function(t){e.btnText=t.data.msg,setTimeout((function(){e.$router.push({name:"area-cliente-login"})}),3500)})).catch((function(t){!t.response||e.errors.login||422!=t.response.status&&401!=t.response.status||(e.errors={login:[t.response.data.msg]})}))}}},c=l,d=(n("de33"),n("2877")),m=n("a95b"),p=Object(d["a"])(c,o,i,!1,null,"397029ff",null);"function"===typeof m["default"]&&Object(m["default"])(p);t["default"]=p.exports},de33:function(e,t,n){"use strict";var o=n("023f"),i=n.n(o);i.a}}]);
//# sourceMappingURL=area-cliente-auth.0b2c685f.js.map